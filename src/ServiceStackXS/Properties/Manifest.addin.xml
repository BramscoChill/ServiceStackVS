<ExtensionModel>
  <Runtime>
	<Import file="add-ref-item.png" />
    <Import assembly="ServiceStackXS.dll" />
    <Import assembly="ServiceStackVS.NativeTypes.dll" />
    <Import assembly="ServiceStack.Text.dll" />
    <Import assembly="NuGet.Core.dll" />
  </Runtime>

  <ConditionType id="ServiceStackReferemceDto" type="ServiceStackXS.ServiceReferenceDtoCondition" />

  <Extension path="/MonoDevelop/Core/StockIcons">
    <StockIcon stockid="servicestack-addref-item" file = "add-ref-item.png" />
  </Extension>

  <Extension path = "/MonoDevelop/Ide/Commands">
      <Command
        id = "ServiceStackXS.Commands.AddReference"
        _description = "Add a ServiceStack reference from a ServiceStack server URL."
        _label = "Add Service _Reference..."
        icon="servicestack-addref-item"
        defaultHandler = "ServiceStackXS.Commands.AddReferenceHandler" />
	   <Command
	        id = "ServiceStackXS.Commands.UpdateReference"
	        _description = "Update ServiceStack reference"
	        icon="servicestack-addref-item"
	        _label = "_Update Service Reference"
	        defaultHandler = "ServiceStackXS.Commands.UpdateReferenceHandler" />      
  </Extension>

  <Extension path="/MonoDevelop/Ide/ContextMenu/ProjectPad/Add">
    <Condition id="ItemType" value="Project">
      <CommandItem
				id="ServiceStackXS.Commands.AddReference"
				insertafter="MonoDevelop.WebReferences.WebReferenceCommands.Add" />

    </Condition>
  </Extension>

  <Extension path="/MonoDevelop/Ide/ContextMenu/ProjectPad">
  	<Condition id="ServiceStackReferemceDto">
    	<CommandItem
				id="ServiceStackXS.Commands.UpdateReference" insertafter="VersionControl" />
    </Condition>
  </Extension>
</ExtensionModel>